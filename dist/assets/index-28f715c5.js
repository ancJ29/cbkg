import{r as t,F as K,t as o,B as v,R as k}from"./index-db117989.js";import{S as i}from"./index-4ee7a327.js";import{T as A}from"./index-83819ef0.js";import{u as D}from"./useTranslation-d9fa93c2.js";import{F as E}from"./Stack-0cc441d2.js";import{I as M}from"./index-4fa6584e.js";import{B as P}from"./Card-23a5932e.js";const R="_container_1ixrk_1",u={container:R},w=[{label:"Active",value:"Active"},{label:"Disable",value:"Disable"}],Q=({filter:n,setFilter:e,keys:r,leftSection:B})=>{const s=D(),[d,g]=t.useState(void 0),[j,O]=t.useState(Date.now()),{defaultChainId:m,defaultBranchId:p,branchOptionsByChainId:c,chainOptions:S}=K(),h=t.useMemo(()=>c[n.chainId||""]||[],[c,n.chainId]),b=t.useCallback(a=>{e({...n,branchId:a??void 0,_on:!0})},[n,e]),I=t.useCallback(a=>{let l="";(c[a||""]||[]).length===1&&(l=c[a||""][0].value.toString()),e({...n,chainId:a??void 0,branchId:l??void 0,_on:!0})},[c,n,e]),C=t.useCallback(a=>{e({...n,_on:!0,active:a!==null?a==="Active":void 0})},[n,e]),_=t.useCallback(a=>{e({...n,keyword:a})},[n,e]),x=t.useMemo(()=>[{Key:"CHAIN_OPTIONS",Component:o.jsx(i,{value:n.chainId||null,placeholder:s("Select chains"),options:S,onChange:I},0)},{Key:"BRANCH_OPTIONS",Component:o.jsx(o.Fragment,{children:h.length>0&&o.jsx(i,{value:n.branchId||null,placeholder:s("Select branches"),options:h,onChange:b},1)})},{Key:"STATUS_OPTION",Component:o.jsx(i,{placeholder:s("Select status"),options:w,onChange:C},2)}],[n.chainId,n.branchId,s,S,I,h,b,C]),N=t.useMemo(()=>H(x,r),[x,r]),T=t.useMemo(()=>Object.values(n).filter(a=>a!=null&&a!=="").length>0,[n]),y=t.useCallback(()=>{e({chainId:m,branchId:p}),O(Date.now())},[p,m,e]);return o.jsxs(v,{mt:10,className:u.container,children:[B,o.jsx(v,{className:u.container,children:N.map(({Component:a},l)=>o.jsx(k.Fragment,{children:a},l))},j),o.jsxs(E,{children:[o.jsx(A,{value:d,placeholder:s("Search by name"),onChange:a=>g(a.target.value),rightSection:o.jsx(M,{}),onEnter:()=>_(d)}),o.jsx(P,{ml:10,type:"submit",disabled:!T,className:u.btn,onClick:y,children:s("Clear filter")})]})]})};function H(n,e){return e?n.filter(r=>e.includes(r.Key)):n}export{Q as S};
